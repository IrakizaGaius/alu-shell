#!/usr/bin/env bash
# Open the /etc/passwd file for reading
exec 3< /etc/passwd

# Set the IFS variable to ":" to split each line into fields
IFS=":"

# Loop through each line of the file
while read -u 3 username password uid gid info home shell
do
  # Extract the user's full name from the info field
  name=$(echo "$info" | cut -d, -f1)
  
  # Extract the user's passcode from the password field
  passcode=$(echo "$password" | cut -d'$' -f2)
  
  # Display the extracted information in the specified format
  echo "The user $username is part of the $gid gang, lives in $home and rides $shell. $uid's place is protected by the passcode $passcode, more info about the user here: $name"
done

# Close the file descriptor for /etc/passwd
exec 3<&-

